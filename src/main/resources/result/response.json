{
    "nodes": [
        {
            "id": "deviceEventListen_1",
            "name": "咖啡制作完成事件监听",
            "kind": "deviceEventListen",
            "inputPorts": [],
            "outputPorts": [
                "output"
            ],
            "inputParams": null,
            "outputParams": [
                {
                    "id": "deviceEventListen_1_coffeeType",
                    "code": "coffeeType",
                    "type": {
                        "source": "default",
                        "typeId": "string"
                    },
                    "readOnly": true
                }
            ],
            "deviceCategory": "coffer",
            "deviceEvent": "onBrewCompleted"
        },
        {
            "id": "batchAssignValue_1",
            "name": "获取咖啡类型",
            "kind": "batchAssignValue",
            "inputPorts": [
                "input"
            ],
            "outputPorts": [
                "output"
            ],
            "inputParams": [],
            "outputParams": [],
            "expresses": [
                {
                    "kind": "assignValue",
                    "leftExpress": {
                        "kind": "nodeVariable",
                        "nodeCode": "variableDef_variableDef_1",
                        "variable": "coffeeType",
                        "variableId": "variableDef_1_coffeeType"
                    },
                    "rightExpress": {
                        "kind": "nodeVariable",
                        "nodeCode": "deviceEventListen_deviceEventListen_1",
                        "variable": "coffeeType",
                        "variableId": "deviceEventListen_1_coffeeType"
                    }
                }
            ]
        },
        {
            "id": "variableDef_1",
            "name": "定义咖啡类型变量",
            "kind": "variableDef",
            "inputPorts": [
                "input"
            ],
            "outputPorts": [
                "output"
            ],
            "inputParams": [],
            "outputParams": [
                {
                    "id": "variableDef_1_coffeeType",
                    "code": "coffeeType",
                    "type": {
                        "source": "default",
                        "typeId": "string"
                    }
                }
            ]
        },
        {
            "id": "selector_1",
            "name": "判断咖啡类型",
            "kind": "selector",
            "inputPorts": [
                "input"
            ],
            "outputPorts": [
                "americano",
                "cappuccino",
                "default"
            ],
            "inputParams": [],
            "outputParams": [],
            "branches": [
                {
                    "port": "americano",
                    "conditionExpr": {
                        "kind": "compare",
                        "operator": "equal",
                        "leftExpress": {
                            "kind": "nodeVariable",
                            "nodeCode": "batchAssignValue_batchAssignValue_1",
                            "variable": "coffeeType",
                            "variableId": "variableDef_1_coffeeType"
                        },
                        "rightExpress": {
                            "kind": "stringConst",
                            "value": "美式"
                        }
                    }
                },
                {
                    "port": "cappuccino",
                    "conditionExpr": {
                        "kind": "compare",
                        "operator": "equal",
                        "leftExpress": {
                            "kind": "nodeVariable",
                            "nodeCode": "batchAssignValue_batchAssignValue_1",
                            "variable": "coffeeType",
                            "variableId": "variableDef_1_coffeeType"
                        },
                        "rightExpress": {
                            "kind": "stringConst",
                            "value": "卡布奇诺"
                        }
                    }
                },
                {
                    "port": "default",
                    "conditionExpr": null
                }
            ]
        },
        {
            "id": "end_1",
            "name": "输出美式完成信息",
            "kind": "end",
            "inputPorts": [
                "input"
            ],
            "outputPorts": [],
            "inputParams": [],
            "outputParams": [
                {
                    "code": "result",
                    "id": "end_1_result",
                    "type": {
                        "source": "default",
                        "typeId": "string"
                    },
                    "valueExpr": {
                        "kind": "stringConst",
                        "value": "美式制作完成"
                    }
                }
            ]
        },
        {
            "id": "end_2",
            "name": "输出卡布奇诺完成信息",
            "kind": "end",
            "inputPorts": [
                "input"
            ],
            "outputPorts": [],
            "inputParams": [],
            "outputParams": [
                {
                    "code": "result",
                    "id": "end_2_result",
                    "type": {
                        "source": "default",
                        "typeId": "string"
                    },
                    "valueExpr": {
                        "kind": "stringConst",
                        "value": "卡布奇诺制作完成"
                    }
                }
            ]
        }
    ],
    "edges": [
        {
            "sourceNodeId": "deviceEventListen_1",
            "targetNodeId": "variableDef_1",
            "sourcePort": "output",
            "targetPort": "input"
        },
        {
            "sourceNodeId": "variableDef_1",
            "targetNodeId": "batchAssignValue_1",
            "sourcePort": "output",
            "targetPort": "input"
        },
        {
            "sourceNodeId": "batchAssignValue_1",
            "targetNodeId": "selector_1",
            "sourcePort": "output",
            "targetPort": "input"
        },
        {
            "sourceNodeId": "selector_1",
            "targetNodeId": "end_1",
            "sourcePort": "americano",
            "targetPort": "input"
        },
        {
            "sourceNodeId": "selector_1",
            "targetNodeId": "end_2",
            "sourcePort": "cappuccino",
            "targetPort": "input"
        }
    ]
}