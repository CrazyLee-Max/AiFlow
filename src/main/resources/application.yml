server:
  port: 8080
  servlet:
    context-path: /api

spring:
  application:
    name: workflow-dsl-generator
  
  # Jackson配置
  jackson:
    default-property-inclusion: non_null
    serialization:
      write-dates-as-timestamps: false

# AI模型配置
ai:
  models:
    # DeepSeek配置
    deepseek:
      api-key: ${DEEPSEEK_API_KEY:sk-7a27f762a11e4a0185db59186c60e20a}
      base-url: ${DEEPSEEK_BASE_URL:https://api.deepseek.com}
      model-name: ${DEEPSEEK_MODEL:deepseek-chat}
      timeout: ${DEEPSEEK_TIMEOUT:240000}
      max-tokens: ${DEEPSEEK_MAX_TOKENS:4000}
      temperature: ${DEEPSEEK_TEMPERATURE:0.7}
    
    # ChatGPT配置
    chatgpt:
      api-key: ${OPENAI_API_KEY:dummy-key}
      base-url: ${OPENAI_BASE_URL:https://api.openai.com/v1}
      model-name: ${OPENAI_MODEL:gpt-3.5-turbo}
      timeout: ${OPENAI_TIMEOUT:60000}
      max-tokens: ${OPENAI_MAX_TOKENS:4000}
      temperature: ${OPENAI_TEMPERATURE:0.7}
    
    # Ollama配置
    ollama:
      base-url: ${OLLAMA_BASE_URL:http://localhost:11434}
      model-name: ${OLLAMA_MODEL:llama2}
      timeout: ${OLLAMA_TIMEOUT:120000}
      max-tokens: ${OLLAMA_MAX_TOKENS:4000}
      temperature: ${OLLAMA_TEMPERATURE:0.7}
  
  # 默认使用的AI模型
  default-provider: deepseek

# MCP Server配置
mcp:
  server:
    url: ${MCP_SERVER_URL:http://localhost:3001/mcp}
    timeout: 30000

# 日志配置
logging:
  level:
    com.dslg: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"

# 管理端点配置
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when_authorized